# ソクラテス式議論（メタ認知）と結論

## 1. 問いの定義
- 問い: 「このセッションで、次の実装を最短で確実に進めるために、何を記録すべきか？」
- 対象機能:
  - GUIの明示的カラースキーム切替（Light/Dark/System）
  - プロモード限定のメタデータ表示（折りたたみ）

## 2. ドリームチーム議論（ソクラテス式）

### 2.1 PM視点
- Q: いま最優先で固定化すべき情報はなにか？
- A: 「ユーザーがすでにYesした要求」と「その実装に直結する現行コード位置」。
- 根拠: 要求がぶれないことが最短実装の前提。

### 2.2 アーキテクト視点
- Q: どこまで記録すれば再開コストを最小化できるか？
- A: 仕様文だけでは不足。保存復元、UI反映、プレビュー再描画の結合点を行番号付きで持つ必要がある。
- 根拠: 本件は設定値変更だけでなく、ランタイム反映が必要なため。

### 2.3 実装担当視点
- Q: 今回の追加で壊れやすい箇所は？
- A: `gui_app.py` の設定レイヤー（`_setup_settings_layers`）、保存復元（`_restore_settings`, `_save_current_settings`）、表示更新（`_draw_previews`）が主要結合点。

### 2.4 QA視点
- Q: 最低限の品質保証は何か？
- A: 静的チェック + 既存保存パイプラインテスト + 手動GUI確認（切替即時反映、再起動後復元）。

### 2.5 ユーザー体験視点
- Q: 事務員利用を壊さないための条件は？
- A: 簡易モードに情報過多を持ち込まない。メタデータ表示はプロモード限定で折りたたみ初期クローズ。

## 3. 結論
1. 記録対象は「要求」「現行実装の事実」「外部仕様根拠」「実装手順」「検証手順」の5本柱にする。
2. 実装順は
   - 先にカラースキーム切替（影響範囲が狭く独立）
   - 次にプロモード限定メタデータプレビュー（UI追加＋遅延取得）
   とする。
3. 仕様凍結点:
   - カラースキームは `System/Light/Dark`。
   - メタデータ表示はプロモードのみ、折りたたみ、要点表示。
