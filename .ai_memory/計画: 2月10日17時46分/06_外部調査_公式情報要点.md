# 外部調査（公式情報）要点

## 1. 調査目的
- カラースキーム切替とメタデータ処理の仕様根拠を、公式一次情報で短時間確認する。

## 2. 確認した情報（Web）

### 2.1 CustomTkinter: Appearance Mode
- `set_appearance_mode("system"|"dark"|"light")` を実行時に変更可能。
- tuple color `(light, dark)` は appearance mode に応じて自動選択される。
- `system` はOSテーマ追従。Linuxではsystem判定がlight扱いになる注意記載あり。
- 参照:
  - https://github.com/TomSchimansky/CustomTkinter/wiki/AppearanceMode
  - https://github.com/TomSchimansky/CustomTkinter/wiki/Themes

### 2.2 Pillow: EXIFの読み書き
- `Image.getexif()` でEXIFへアクセス可能。
- JPEG保存時は `save(..., exif=bytes)` によりEXIF付与可能。
- EXIFタグ名対応は `PIL.ExifTags.TAGS` を参照。
- 参照:
  - https://pillow.readthedocs.io/en/stable/handbook/image-file-formats.html
  - https://pillow.readthedocs.io/en/stable/reference/ExifTags.html

### 2.3 Pillow: AVIF保存パラメータ
- AVIF保存時のオプションとして `quality` と `speed` が使用可能。
- `speed` は処理速度と圧縮効率のトレードオフ。
- 参照:
  - https://pillow.readthedocs.io/en/stable/handbook/image-file-formats.html#avif

## 3. 本計画への反映
1. UIカラースキーム切替は、CustomTkinter標準APIで安全に実装可能。
2. 既存のtuple色設計を維持すれば、Light/Dark切替時の再設計コストが小さい。
3. メタデータ表示は `getexif()` ベースで実装可能。
4. AVIF/WebPの詳細設定は現行実装方針（quality/speed, quality/method/lossless）と整合。

## 4. 調査範囲の限界
- 実行環境ごとのエンコーダ実装差（libavif/libwebpバージョン差）までは本調査で網羅していない。
