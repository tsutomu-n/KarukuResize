# 01 セッション全体概要

## 分かったこと（詳細）
1. 主要テーマは一貫して「GUI機能拡張」と「ユーザーフレンドリー化」。
2. 検討は段階的に進み、最終的に「簡易モード/プロモード」分離案へ収束した。
3. GUI側には既に以下の基盤があることを確認済み:
   - 品質（5刻み）
   - 出力形式（自動/JPEG/PNG/WEBP/AVIF）
   - ドライラン
   - 詳細ログ
   - EXIFモード（保持/編集/削除）
   - GPS削除
4. 保存パイプライン側は、EXIF編集4項目 + フォールバック保存まで実装済み。
5. ユーザー側Windows実行で `.exe` ビルドは成功報告あり。
6. 一方でGUI上の一部操作不具合（詳細設定表示ほか）が報告され、追加改善が必要な状態。

## 技術要素
1. GUI: `customtkinter` ベース。
2. 画像保存: Pillow + `pillow-avif-plugin`。
3. 形式判定: 実行環境依存を `supported_output_formats()` で吸収。
4. 既存テスト: `tests/test_image_save_pipeline.py` が中核。

## 決定事項
1. ユーザー導線は簡易/プロの2層化を採用する方向で合意。
2. 初期表示は簡易モードを優先。
3. 高度なメタデータ編集はプロモードへ隔離。

## 未解決点
1. 具体的な追加メタデータ項目の第1弾範囲（最終確定）。
2. GUI不具合の再現条件の完全洗い出し。
3. `.exe` 実機での詳細機能テスト網羅。

## 検証方法
1. GUI手動検証:
   - モード切替、保存、一括保存、EXIF差分の順で確認。
2. 自動テスト:
   - `tests/test_image_save_pipeline.py` の拡張。
3. 実機確認:
   - Windows上で `uv run karukuresize-build-exe` 後に動作確認。

## 関連ファイル/URL
1. `src/karuku_resizer/gui_app.py`
2. `src/karuku_resizer/image_save_pipeline.py`
3. `tests/test_image_save_pipeline.py`
4. `.ai_memory/計画: 2月10日16時49分/`（直前に作成した詳細計画群）
